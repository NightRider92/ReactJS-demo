{"ast":null,"code":"/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch(db) {\n  this._db = db;\n  this._operations = [];\n  this._written = false;\n}\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) throw new Error('write() already called on this batch');\n};\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten();\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer);\n  if (err) throw err;\n  err = this._db._checkKeyValue(value, 'value', this._db._isBuffer);\n  if (err) throw err;\n  if (!this._db._isBuffer(key)) key = String(key);\n  if (!this._db._isBuffer(value)) value = String(value);\n  if (typeof this._put == 'function') this._put(key, value);else this._operations.push({\n    type: 'put',\n    key: key,\n    value: value\n  });\n  return this;\n};\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten();\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer);\n  if (err) throw err;\n  if (!this._db._isBuffer(key)) key = String(key);\n  if (typeof this._del == 'function') this._del(key);else this._operations.push({\n    type: 'del',\n    key: key\n  });\n  return this;\n};\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten();\n  this._operations = [];\n  if (typeof this._clear == 'function') this._clear();\n  return this;\n};\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten();\n  if (typeof options == 'function') callback = options;\n  if (typeof callback != 'function') throw new Error('write() requires a callback argument');\n  if (typeof options != 'object') options = {};\n  this._written = true;\n  if (typeof this._write == 'function') return this._write(callback);\n  if (typeof this._db._batch == 'function') return this._db._batch(this._operations, options, callback);\n  process.nextTick(callback);\n};\nmodule.exports = AbstractChainedBatch;","map":{"version":3,"names":["AbstractChainedBatch","db","_db","_operations","_written","prototype","_checkWritten","Error","put","key","value","err","_checkKeyValue","_isBuffer","String","_put","push","type","del","_del","clear","_clear","write","options","callback","_write","_batch","process","nextTick","module","exports"],"sources":["C:/Users/Moran/Documents/react-projects/react-demo/node_modules/abstract-leveldown/abstract-chained-batch.js"],"sourcesContent":["/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch (db) {\n  this._db         = db\n  this._operations = []\n  this._written    = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written)\n    throw new Error('write() already called on this batch')\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)\n  if (err) throw err\n  err = this._db._checkKeyValue(value, 'value', this._db._isBuffer)\n  if (err) throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n  if (!this._db._isBuffer(value)) value = String(value)\n\n  if (typeof this._put == 'function' )\n    this._put(key, value)\n  else\n    this._operations.push({ type: 'put', key: key, value: value })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)\n  if (err) throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n\n  if (typeof this._del == 'function' )\n    this._del(key)\n  else\n    this._operations.push({ type: 'del', key: key })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n\n  this._operations = []\n\n  if (typeof this._clear == 'function' )\n    this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options == 'function')\n    callback = options\n  if (typeof callback != 'function')\n    throw new Error('write() requires a callback argument')\n  if (typeof options != 'object')\n    options = {}\n\n  this._written = true\n\n  if (typeof this._write == 'function' )\n    return this._write(callback)\n\n  if (typeof this._db._batch == 'function')\n    return this._db._batch(this._operations, options, callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractChainedBatch"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}