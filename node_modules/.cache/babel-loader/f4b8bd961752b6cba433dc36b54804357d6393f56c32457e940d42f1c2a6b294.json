{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\nvar next = process.nextTick;\nvar SubDb = require('./sub');\nvar Batch = require('./batch');\nvar fixRange = require('level-fix-range');\nvar Hooks = require('level-hooks');\nmodule.exports = function (_db, options) {\n  function DB() {}\n  DB.prototype = _db;\n  var db = new DB();\n  if (db.sublevel) return db;\n  options = options || {};\n\n  //use \\xff (255) as the seperator,\n  //so that sections of the database will sort after the regular keys\n  var sep = options.sep = options.sep || '\\xff';\n  db._options = options;\n  Hooks(db);\n  db.sublevels = {};\n  db.sublevel = function (prefix, options) {\n    if (db.sublevels[prefix]) return db.sublevels[prefix];\n    return new SubDb(db, prefix, options || this._options);\n  };\n  db.methods = {};\n  db.prefix = function (key) {\n    return '' + (key || '');\n  };\n  db.pre = function (range, hook) {\n    if (!hook) hook = range, range = {\n      max: sep\n    };\n    return db.hooks.pre(range, hook);\n  };\n  db.post = function (range, hook) {\n    if (!hook) hook = range, range = {\n      max: sep\n    };\n    return db.hooks.post(range, hook);\n  };\n  function safeRange(fun) {\n    return function (opts) {\n      opts = opts || {};\n      opts = fixRange(opts);\n      if (opts.reverse) opts.start = opts.start || sep;else opts.end = opts.end || sep;\n      return fun.call(db, opts);\n    };\n  }\n  db.readStream = db.createReadStream = safeRange(db.createReadStream);\n  db.keyStream = db.createKeyStream = safeRange(db.createKeyStream);\n  db.valuesStream = db.createValueStream = safeRange(db.createValueStream);\n  var batch = db.batch;\n  db.batch = function (changes, opts, cb) {\n    if (!Array.isArray(changes)) return new Batch(db);\n    changes.forEach(function (e) {\n      if (e.prefix) {\n        if ('function' === typeof e.prefix.prefix) e.key = e.prefix.prefix(e.key);else if ('string' === typeof e.prefix) e.key = e.prefix + e.key;\n      }\n    });\n    batch.call(db, changes, opts, cb);\n  };\n  return db;\n};","map":{"version":3,"names":["EventEmitter","require","next","process","nextTick","SubDb","Batch","fixRange","Hooks","module","exports","_db","options","DB","prototype","db","sublevel","sep","_options","sublevels","prefix","methods","key","pre","range","hook","max","hooks","post","safeRange","fun","opts","reverse","start","end","call","readStream","createReadStream","keyStream","createKeyStream","valuesStream","createValueStream","batch","changes","cb","Array","isArray","forEach","e"],"sources":["C:/Users/Moran/Documents/react-projects/react-demo/node_modules/level-sublevel/index.js"],"sourcesContent":["var EventEmitter = require('events').EventEmitter\nvar next         = process.nextTick\nvar SubDb        = require('./sub')\nvar Batch        = require('./batch')\nvar fixRange     = require('level-fix-range')\n\nvar Hooks   = require('level-hooks')\n\nmodule.exports   = function (_db, options) {\n  function DB () {}\n  DB.prototype = _db\n  var db = new DB()\n\n  if (db.sublevel) return db\n\n  options = options || {}\n\n  //use \\xff (255) as the seperator,\n  //so that sections of the database will sort after the regular keys\n  var sep = options.sep = options.sep || '\\xff'\n  db._options = options\n\n  Hooks(db)\n\n  db.sublevels = {}\n\n  db.sublevel = function (prefix, options) {\n    if(db.sublevels[prefix])\n      return db.sublevels[prefix]\n    return new SubDb(db, prefix, options || this._options)\n  }\n\n  db.methods = {}\n\n  db.prefix = function (key) {\n    return '' + (key || '')\n  }\n\n  db.pre = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max  : sep\n      }\n    return db.hooks.pre(range, hook)\n  }\n\n  db.post = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max : sep\n      }\n    return db.hooks.post(range, hook)\n  }\n\n  function safeRange(fun) {\n    return function (opts) {\n      opts = opts || {}\n      opts = fixRange(opts)\n\n      if(opts.reverse) opts.start = opts.start || sep\n      else             opts.end   = opts.end || sep\n\n      return fun.call(db, opts)\n    }\n  }\n\n  db.readStream =\n  db.createReadStream  = safeRange(db.createReadStream)\n  db.keyStream =\n  db.createKeyStream   = safeRange(db.createKeyStream)\n  db.valuesStream =\n  db.createValueStream = safeRange(db.createValueStream)\n\n  var batch = db.batch\n  db.batch = function (changes, opts, cb) {\n    if(!Array.isArray(changes))\n      return new Batch(db)\n    changes.forEach(function (e) {\n      if(e.prefix) {\n        if('function' === typeof e.prefix.prefix)\n          e.key = e.prefix.prefix(e.key)\n        else if('string'  === typeof e.prefix)\n          e.key = e.prefix + e.key\n      }\n    })\n    batch.call(db, changes, opts, cb)\n  }\n  return db\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}